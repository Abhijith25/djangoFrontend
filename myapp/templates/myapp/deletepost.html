{% extends 'myapp/base.html' %}
{% load static %}
{% block content %}

<div class="container">


    <main role="main" class="container">

        {% include 'myapp/includes/messages.html' %}


        {% for post in posts %}


        <div class="card" id="{{post._id}}" data-delete="{{post._id}}" style="box-shadow: rgba(0, 0, 0, 0.35) 0px 5px 15px;border: 0.5px solid #5F788A;">
            <h5 class="card-header">{{post.author}}</h5>
            <div class="card-body">
                <h5 class="card-title">{{post.title}}</h5>
                <p class="card-text">{{post.content}}</p>
                <a href="#" class="small text-muted">Posted on: <b>{{post.date_posted }}</b></a>
                <div class="container-fluid">
                    <div class="row justify-content-md-center">
                        <div class="col"></div>
                        <div class="col"></div>
                        <div class="col justify-content" style="margin-left: 200px;">
                            <div class="bg-white">
                                <div class="mt-2 text-right">
                                    <button class="btn btn-danger btn-sm shadow-none" type="button" onclick="deletePost()">Delete comment</button>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div id="collapse-2" class="bg-light p-2 collapse" data-parent="#myGroup">
                        <div class="d-flex flex-row align-items-start"><i
                                class="fa fa-facebook border p-3 rounded mr-1"></i><i
                                class="fa fa-twitter border p-3 rounded mr-1"></i><i
                                class="fa fa-linkedin border p-3 rounded mr-1"></i><i
                                class="fa fa-instagram border p-3 rounded mr-1"></i><i
                                class="fa fa-dribbble border p-3 rounded mr-1"></i> <i
                                class="fa fa-pinterest-p border p-3 rounded mr-1"></i> </div>
                    </div>

                    begin collapse -->
                    <div class="collapse" id="collapseExample">

                        <div class="bg-light p-2">
                            <div class="d-flex flex-row align-items-start"><img class="rounded-circle"
                                    src="https://t3.ftcdn.net/jpg/03/46/83/96/360_F_346839683_6nAPzbhpSkIpb8pmAwufkC7c5eD7wYws.jpg"
                                    width="40" alt="profile Image">
                                <div class="mt-2 text-right">
                                    <button class="btn btn-danger btn-sm shadow-none deletePost"
                                        type="button">Delete Post</button>
                                </div>
                            </div>
                        </div>
                     
                    </div>
                </div>
            </div>
            <br>
            <br>

            {% endfor %}

    </main>

</div>

<script>
    function getCookie(name) {
    let cookieValue = null;
    if (document.cookie && document.cookie !== '') {
        const cookies = document.cookie.split(';');
        for (let i = 0; i < cookies.length; i++) {
            const cookie = cookies[i].trim();
            // Does this cookie string begin with the name we want?
            if (cookie.substring(0, name.length + 1) === (name + '=')) {
                cookieValue = decodeURIComponent(cookie.substring(name.length + 1));
                break;
            }
        }
    }
    return cookieValue;
}
const csrftoken = getCookie('csrftoken');


var deleteBtn = document.getElementsByClassName('deletePost')
deleteBtn.addaddEventListener('click',function(){
    var post_id = this.dataset.post_id;
});


function deletePost()
{


}



</script>


{% endblock content %}